<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .result-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <h1 class="text-center mb-4">EMI Calculator</h1>
        <div class="card p-4">
            <form>
                <!-- Car Selection -->
                <div class="mb-3">
                    <label for="carBrand" class="form-label">Car Brand</label>
                    <select id="carBrand" class="form-select">
                        <option value="Bentley">Bentley</option>
                        <option value="Mercedes">Mercedes</option>
                        <option value="BMW">BMW</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="carModel" class="form-label">Car Model</label>
                    <select id="carModel" class="form-select">
                        <option value="BentaygaV8">2019 Bentley Bentayga V8</option>
                        <option value="ContinentalGT">2020 Bentley Continental GT</option>
                    </select>
                </div>

                <!-- Car Price -->
                <div class="mb-3">
                    <label for="carPrice" class="form-label">Car Price (₹)</label>
                    <input type="number" id="carPrice" class="form-control" value="29900000" readonly>
                </div>

                <!-- Down Payment -->
                <div class="mb-3">
                    <label for="downPayment" class="form-label">Down Payment (₹)</label>
                    <input type="range" id="downPayment" class="form-range" min="0" max="29900000" step="100000" value="5980000" onchange="updateDownPayment()">
                    <input type="number" id="downPaymentValue" class="form-control mt-2" readonly>
                </div>

                <!-- Annual Interest Rate -->
                <div class="mb-3">
                    <label for="interestRate" class="form-label">Annual Interest Rate (%)</label>
                    <input type="range" id="interestRate" class="form-range" min="0" max="20" step="0.1" value="10.5" onchange="updateInterestRate()">
                    <input type="number" id="interestRateValue" class="form-control mt-2" readonly>
                </div>

                <!-- Loan Tenure -->
                <div class="mb-3">
                    <label for="loanTenure" class="form-label">Loan Tenure (Months)</label>
                    <input type="range" id="loanTenure" class="form-range" min="12" max="120" step="12" value="60" onchange="updateLoanTenure()">
                    <input type="number" id="loanTenureValue" class="form-control mt-2" readonly>
                </div>
            </form>

            <!-- Results -->
            <div class="result-box mt-4">
                <h5>Total Interest Payment: ₹<span id="totalInterest">0</span></h5>
                <h5>Total Amount to Pay: ₹<span id="totalPayment">0</span></h5>
                <h5>Monthly EMI: ₹<span id="monthlyEMI">0</span></h5>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Update values dynamically
        function updateDownPayment() {
            const downPayment = document.getElementById('downPayment').value;
            document.getElementById('downPaymentValue').value = downPayment;
            calculateEMI();
        }

        function updateInterestRate() {
            const interestRate = document.getElementById('interestRate').value;
            document.getElementById('interestRateValue').value = interestRate;
            calculateEMI();
        }

        function updateLoanTenure() {
            const loanTenure = document.getElementById('loanTenure').value;
            document.getElementById('loanTenureValue').value = loanTenure;
            calculateEMI();
        }

        // EMI Calculation Logic
        function calculateEMI() {
            const carPrice = parseFloat(document.getElementById('carPrice').value);
            const downPayment = parseFloat(document.getElementById('downPayment').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanTenure = parseInt(document.getElementById('loanTenure').value);

            const loanAmount = carPrice - downPayment;
            const monthlyInterestRate = interestRate / 12 / 100;
            const emi = loanAmount * monthlyInterestRate * Math.pow(1 + monthlyInterestRate, loanTenure) / (Math.pow(1 + monthlyInterestRate, loanTenure) - 1);

            const totalPayment = emi * loanTenure;
            const totalInterest = totalPayment - loanAmount;

            document.getElementById('monthlyEMI').innerText = emi.toFixed(2);
            document.getElementById('totalPayment').innerText = totalPayment.toFixed(2);
            document.getElementById('totalInterest').innerText = totalInterest.toFixed(2);
        }

        // Initialize default values
        updateDownPayment();
        updateInterestRate();
        updateLoanTenure();
    </script>
</body>
</html>
